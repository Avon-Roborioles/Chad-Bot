version: '3.8'

services:
  discord-bot:  # ğŸ‘ˆ Defines the service name
    build: .  # ğŸ‘ˆ Builds from the Dockerfile in the same directory
    container_name: chad-bot-container  # ğŸ‘ˆ Sets a custom container name
    restart: always  # ğŸ‘ˆ Restarts if the bot crashes
    working_dir: /app  # ğŸ‘ˆ Sets the working directory inside the container
    volumes:
      - .:/app  # ğŸ‘ˆ Mounts the current directory into the container
    environment:
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - FTC_API_KEY=${FTC_API_KEY}
      -  # ğŸ‘ˆ Passes the bot token from the .env file
    command: sh -c "npm install && node index.js"  # ğŸ‘ˆ Runs the bot
