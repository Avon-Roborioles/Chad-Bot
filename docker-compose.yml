version: '3.8'

services:
  discord-bot:  # ðŸ‘ˆ Defines the service name
    build: .  # ðŸ‘ˆ Builds from the Dockerfile in the same directory
    container_name: chad-bot-container  # ðŸ‘ˆ Sets a custom container name
    restart: always  # ðŸ‘ˆ Restarts if the bot crashes
    working_dir: /app  # ðŸ‘ˆ Sets the working directory inside the container
    volumes:
      - .:/app  # ðŸ‘ˆ Mounts the current directory into the container
    environment:
      - DISCORD_TOKEN=${DISCORD_TOKEN}
      - FTC_API_KEY=${FTC_API_KEY} # ðŸ‘ˆ Passes the bot token from the .env file\
      - X_RAPIDAPI_KEY=${X_RAPIDAPI_KEY}
    command: sh -c "npm install && node index.js" 